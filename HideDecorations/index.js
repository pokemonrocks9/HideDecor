(function(n,i,a){"use strict";let t=[],r=null;function l(){document.querySelectorAll('[class*="decoration"], [class*="Decoration"]').forEach(function(o){o.style&&(o.style.display="none",o.style.visibility="hidden",o.style.opacity="0")}),document.querySelectorAll('img[src*="decoration"], img[src*="avatar-decoration"], video[src*="decoration"]').forEach(function(o){o.style&&(o.style.display="none")})}var s={onLoad:function(){try{console.log("[HideDecorations] Loading..."),l(),r=new MutationObserver(function(){l()}),r.observe(document.body,{childList:!0,subtree:!0}),console.log("[HideDecorations] MutationObserver active");try{const o=i.findByStoreName("UserStore");o?.getUser&&(t.push(a.after("getUser",o,function(c,e){return e&&(e.avatarDecoration=null,e.avatarDecorationData=null),e})),console.log("[HideDecorations] UserStore.getUser patched")),o?.getCurrentUser&&(t.push(a.after("getCurrentUser",o,function(c,e){return e&&(e.avatarDecoration=null,e.avatarDecorationData=null),e})),console.log("[HideDecorations] UserStore.getCurrentUser patched"))}catch(o){console.log("[HideDecorations] Could not patch UserStore:",o)}try{const o=i.findByProps("getAvatarDecorationURL");o?.getAvatarDecorationURL&&(t.push(a.after("getAvatarDecorationURL",o,function(){return null})),console.log("[HideDecorations] getAvatarDecorationURL patched"))}catch(o){console.log("[HideDecorations] Could not patch AvatarUtils:",o)}console.log("[HideDecorations] Loaded!")}catch(o){console.error("[HideDecorations] Load error:",o)}},onUnload:function(){try{console.log("[HideDecorations] Unloading..."),r&&(r.disconnect(),r=null),t.forEach(function(o){try{o()}catch(c){console.error("[HideDecorations] Unpatch error:",c)}}),t=[],console.log("[HideDecorations] Unloaded!")}catch(o){console.error("[HideDecorations] Unload error:",o)}}};return n.default=s,Object.defineProperty(n,"__esModule",{value:!0}),n})({},vendetta.metro,vendetta.patcher);
